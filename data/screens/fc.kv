ShowcaseScreen:
    name: "fc"

    BoxLayout:
        orientation: "horizontal"

        BoxLayout:
            size_hint_x: None
            width: 250
            orientation: "vertical"
            padding: 10
            spacing: 10

            Label:
                text: " Bookmarks"
                bold: True
                size_hint_y: None
                height: 40
                halign: "center"
                valign: "middle"
                text_size: self.size
                font_size: 18
                canvas.before:
                    Color:
                        rgba: (0.3, 0.3, 0.3, .8)
                    Rectangle:
                        pos: self.pos
                        size: self.size

            ScrollView:
                size_hint_y: .8
                GridLayout:
                    size_hint_y: None
                    height: 0
                    cols: 2
                    id: sv_book
                    orientation: "vertical"
                    spacing: [5, 10]


            Button:
                size_hint_y: None
                height: 40
                text: "Add Bookmark"
                on_release: app.save_bookmark(icon_view_tab.path)

        BoxLayout:
            size_hint_x: .75
            orientation: "vertical"
            padding: 10
            spacing: 10

            BoxLayout:
                spacing: 2
                size_hint_y: None
                height: 30
                spacing: 5
                ToggleButton:
                    border: (0,0,0,0)
                    background_normal: "data/backgrounds/path_off.png"
                    background_down: "data/backgrounds/path_on.png"
                    size_hint_x: None
                    width: 30
                    on_release:
                        if self.state == "down": app.switch_path_wgt("text")
                        if self.state == "normal": app.switch_path_wgt("label")
                BoxLayout:
                    id: path_bx
                    PathLabel

            FileChooserIconView:
                id: icon_view_tab
                multiselect: True
                filters: ["/*"]
                filter_dirs: True

            BoxLayout:
                size_hint_y: None
                height: 30
                spacing: 5

                Label:
                    canvas.before:
                        Color:
                            rgba: (.2,.2,.2,1)
                        Rectangle:
                            pos: self.pos
                            size: self.size
                    size_hint_x: .15
                    text: "Find:"
                    bold: True
                ToggleButton:
                    id: case_bt
                    text: "Aa"
                    bold:True
                    size_hint_x: .1
                    state: "down"

                TextInput:
                    id: text_filter
                    multiline: False
                    focus: True
                    on_text:
                        if case_bt.state == "down": root.ids.icon_view_tab.filters = [icon_view_tab.path+"*"+"".join(["["+x.upper()+x.lower()+"]" for x in self.text])+"*"]
                        if case_bt.state == "normal": root.ids.icon_view_tab.filters = [icon_view_tab.path+"*"+self.text+"*"]

                    on_text_validate:
                        focus = True

            BoxLayout:
                size_hint_y: None
                height: 40
                #padding: 10
                spacing: 30

                Button:
                    text: "Open"
                    on_release:
                        if icon_view_tab.selection: app.load(icon_view_tab.selection); app.go_previous_screen()

                Button:
                    text: "Cancel"
                    on_release: app.go_previous_screen()
