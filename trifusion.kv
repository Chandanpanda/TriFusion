#:kivy 1.8.0

<ShowcaseScreen>:
    ScrollView:
        do_scroll_x: False
        do_scroll_y: False if root.fullscreen else (content.height > root.height - dp(16))
        AnchorLayout:
            size_hint_y: None
            height: root.height if root.fullscreen else max(root.height, content.height)
            GridLayout:
                id: content
                cols: 1

<MainHeader@ActionButton>:
    size_hint_x: 1
    font_size: 20
    bold: True

<MainAction@ActionBar>:
    pos_hint: {'top':1}

    ActionView:
        ActionPrevious:
            size_hint_x: 0.2
            with_previous: False
            on_release:
                app.side_panel_toggle()

        MainHeader:
            text: "Orthology"
            canvas.before:
                Color:
                    rgba: [255, .200, .200, .8]
                Rectangle:
                    pos: self.pos
                    size: self.size
            on_release:
                idx = app.screen_names.index("Orthology")
                app.go_screen(idx)

        MainHeader:
            text: "Process"
            canvas.before:
                Color:
                    rgba: (0.200, 0.200, 255, .8)
                Rectangle:
                    pos: self.pos
                    size: self.size
            on_release:
                idx = app.screen_names.index("Process")
                app.go_screen(idx)

        MainHeader:
            text: "Statistics"
            canvas.before:
                Color:
                    rgba: (0.200, 255, 0.200, .8)
                Rectangle:
                    pos: self.pos
                    size: self.size
            on_release:
                idx = app.screen_names.index("Statistics")
                app.go_screen(idx)

        ActionButton:
            size_hint_x: 0.2

<SelectionBox@BoxLayout>:
    orientation: "horizontal"
    size_hint_y: .11
    spacing: 20
    Button:
        text: "Select All"
        disabled: True
    Button:
        text: "Deselect All"
        disabled: True


BoxLayout:
    orientation: "vertical"

    MainAction

    BoxLayout:
        id: bx1
        orientation: "horizontal"

        ScrollView:
            id: sp
            size_hint_x: None
            #size_hint_y: 1000
            width: 0

            BoxLayout:
                orientation: "vertical"
                padding: 10
                spacing: 10

                canvas.before:
                    Color:
                        rgba: (0.180, 0.180, 0.180, .8)
                    Rectangle:
                        pos: self.pos
                        size: self.size

                Button:
                    id: sv_but
                    text: "Open file(s)"
                    size_hint_y: None
                    height: 50
                    on_release:
                        idx = app.screen_names.index("fc")
                        app.go_screen(idx)

                TabbedPanel:
                    id: main_tp
                    do_default_tab: False
                    background_color: (0,0,0,0)
                    tab_pos: "top_mid"

                    TabbedPanelItem:
                        id: file_tp
                        text: "Files"

                        BoxLayout:
                            orientation: "vertical"
                            spacing: 20
                            ScrollView:
                                size_hint_y: .9
                                height: root.height*.65
                                id: sv_file
                                GridLayout:
                                    cols: 2
                                    size_hint_y: None
                                    id: file_sl
                                    padding: 15
                                    spacing: 10
                                    height: root.height*.2
                                    minimum_height: root.height*.1

                                    Button:
                                        id: file_temp
                                        height: root.height*.08
                                        disabled: True
                                        size_hint_y: None
                                        #size_hint_x: None
                                        text: "No files loaded"
                            SelectionBox:
                                id: sb_file

                    TabbedPanelItem:
                        id: taxa_tp
                        text: "Taxa"
                        BoxLayout:
                            orientation: "vertical"
                            spacing: 20
                            ScrollView:
                                size_hint_y: .9
                                height: root.height*.65
                                id: sv_sp
                                GridLayout:
                                    cols: 2
                                    size_hint_y: None
                                    id: taxa_sl
                                    padding: 15
                                    spacing: 10
                                    Button:
                                        id: species_temp
                                        height: root.height*.08
                                        disabled: True
                                        size_hint_y: None
                                        text: "No species loaded"
                            SelectionBox:
                                id: sb_taxa

        ScreenManager:
            id: sm

